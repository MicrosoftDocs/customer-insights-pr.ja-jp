---
title: 顧客活動
description: 顧客の活動を定義し、顧客プロファイルのタイムラインでこれらを表示します。
ms.date: 07/22/2022
ms.subservice: audience-insights
ms.reviewer: mhart
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
searchScope:
- ci-entities
- ci-customer-card
- ci-relationships
- ci-activities
- ci-activities-wizard
- ci-measures
- ci-segment-suggestions
- customerInsight
ms.openlocfilehash: cc21b0eeb368156437e60d851c2d144f3974c066
ms.sourcegitcommit: c45c3e044034bf866b0662f80a59166cee4ababe
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/22/2022
ms.locfileid: "9188145"
---
# <a name="customer-activities"></a>顧客活動

顧客の活動は、顧客によって実行されるアクションまたはイベントです。 たとえば、トランザクション、サポート コールの時間、Web サイトのレビュー、購入、返品などがあります。 これらのアクティビティは、1 つ以上のデータ ソースに含まれています。 Customers Insights を使用して、それらの[データ ソース](data-sources.md) から取得された顧客活動を統合し、それらを顧客プロファイルに関連付けます。 これらの活動は、顧客プロファイルのタイムラインに時系列で表示されます。 [顧客カード アドイン](customer-card-add-in.md) ソリューションで Dynamics 365 アプリにタイムラインを含めます。

## <a name="define-an-activity"></a>活動を定義する

エンティティには、顧客のタイムラインに含めるために少なくとも 1 つの **日付** 属性が必要です。 このようなエンティティが見つからない場合は、**活動の追加** コントロールは無効になります。

1. **データ** > **アクティビティ** に移動します。

1. **活動を追加する** を選択して、ガイド付きエクスペリエンスを開始します。

1. **活動データ** ステップに、以下の情報を入力します。

   - **活動名**: 活動の名前。
   - **活動エンティティ**: トランザクションデータ、つまり活動データを含むエンティティ。
   - **主キー**: レコードを一意に識別するフィールド。 重複する値、空の値、または欠損した値を含めることはできません。

   :::image type="content" source="media/Activity_Wizard1.PNG" alt-text="名前、エンティティ、および主キーを使用して活動データを設定する。":::

1. **次へ** を選択します。

1. **リレーションシップ** ステップで、**関係の追加** を選択し、活動データを対応する顧客レコードに接続します。 この手順では、エンティティ間の接続を視覚化します。  

   - **エンティティからの外部キー**: 別のエンティティとの関係を確立するために使用される活動エンティティのフィールド。
   - **エンティティ名へ**: 活動エンティティが関係する、対応するソース顧客エンティティ。 データ統合プロセスで使用されるソース顧客エンティティにのみ関連付けることができます。
   - **関係名**: エンティティ間の関係を識別する名前。 この活動エンティティと選択したソース顧客エンティティの間に関連がすでに存在する場合、関連付け名は読み取り専用モードです。

   :::image type="content" source="media/Activity_Wizard2.PNG" alt-text="エンティティの関連付けを定義する。":::

   > [!TIP]
   > B-to-B 環境では、取引先企業エンティティと他のエンティティのどちらかを選択できます。 取引先企業エンティティを選択すると、リレーションシップ パスが自動的に設定されます。 他のエンティティの場合、取引先企業エンティティに到達するまで、1 つ以上の中間エンティティの関係パスを定義する必要があります。

1. **適用** を選択して、関連付けを作成します。

1. **次へ** を選択します。

1. **活動の統合** の手順で、活動イベントと活動の開始時間を選択します。
   - **必須フィールド**
      - **イベント活動**: この活動のイベントであるフィールド。
      - **タイムスタンプ**: 活動の開始時刻を表すフィールド。

   - **オプション フィールド**
      - **追加情報**: この活動に関連する情報を含むフィールド。
      - **アイコン**: この活動の種類を最もよく表すアイコン。
      - **Web アドレス**: この活動に関する情報を含む URL を持つフィールド。 たとえば、このアクティビティのソースとなるトランザクション システムです。 この URL は、データ ソースの任意のフィールドにすることも、Power Query 変換を使用して新しいフィールドとして作成することもできます。 URL データは、*Unified Activity* エンティティに保存され、[API](apis.md) を使用してダウンストリームで使用できます。

   - **タイムラインに表示**
      - この活動を顧客プロファイルのタイムライン ビューに表示するかどうかを選択します。 **はい** を選択し、タイムラインに活動を表示するか、**いいえ** を選択して非表示します。

      :::image type="content" source="media/Activity_Wizard3.PNG" alt-text="Unified Activity エンティティで顧客活動データを指定する。":::

1. **次へ** を選択して活動タイプを選択し、**終了して確認** を選択して、活動の種類を **その他** に設定した状態で活動を保存します。

1. **活動の種類** の手順で活動の種類を選択し、オプションで Customer Insights の他の領域で使用するために活動の種類の一部をセマンティックにマップするかどうかを選択します。 現在、*フィードバック*、*ロイヤルティ*、*SalesOrder*、*SalesOrderLine*、および *サブスクリプション* アクティビティ タイプは、フィールドのマップに同意した後、セマンティクスをサポートします。 活動の種類が新しい活動に関連しない場合は、カスタム活動の種類に *その他* または *新規作成* を選択できます。

1. **次へ** を選択します。

1. **レビュー** の手順で、選択内容を確認します。 前の手順のいずれかに戻り、必要に応じて情報を更新します。

1. **活動を保存する** を選択して変更を適用し、**完了** を選択して、**データ** > **活動** に戻ります。 作成したアクティビティが表示されます。

1. すべてのアクティビティを作成したら、**実行** を選択して処理します。

[!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

## <a name="manage-existing-activities"></a>既存の活動の管理

**データ** > **活動** に移動し、保存したアクティビティ、そのソース エンティティ、アクティビティ タイプ、およびそれらが顧客のタイムラインに含まれているかどうかを表示します。 活動のリストを任意の列で並べ替えたり、検索ボックスを使用して管理する活動を検索したりできます。

活動を選択して、使用可能なアクションを表示できます。

- 活動を **編集** して、構成を変更します。 レビュー ステップで構成が開きます。 構成を変更した後、**活動を保存する** を選択し、**実行** を選択して変更を処理します。
- **活動** の名前を変更します。 **保存** を選択して変更を適用します。
- 活動を **削除** します。 一度に複数の活動を削除するには、活動を選択してから **削除** を選択します。 削除を確認します。

## <a name="view-activity-timelines-on-customer-profiles"></a>顧客プロファイルの活動タイムラインを表示する

1. 活動構成で **活動タイムラインに表示** を選択した場合、**顧客** に移動して顧客プロファイルを選択し、**活動タイムライン** セクションに顧客の活動を表示します。

   :::image type="content" source="media/Activity_Timeline1.PNG" alt-text="顧客プロファイルで構成済みの活動を表示します。":::

1. 活動タイムラインで活動をフィルター処理するには:

   - 1 つまたは複数の活動アイコンを選択して、選択したタイプのみを含むように結果を絞り込みます。

     :::image type="content" source="media/Activity_Timeline2.PNG" alt-text="アイコンを使用して、タイプで活動をフィルタリングします。":::

   - **フィルター** を選択してフィルター パネルを開き、タイムライン フィルターを構成します。 *ActivityType* や *Date* 別にフィルタリングします。 **適用する** を選択します。

     :::image type="content" source="media/Activity_Timeline3.PNG" alt-text="フィルター パネルを使用して、フィルター条件を設定します。":::

1. フィルターを削除するには、**フィルターをクリアする** または **フィルター** を選択し、フィルター チェックボックスをオフにします。

> [!NOTE]
> 顧客プロファイルを離れると、活動フィルターが削除されます。 顧客プロファイルを開くたびにそれらを適用する必要があります。

[!INCLUDE [footer-include](includes/footer-banner.md)]

---
title: トランザクション解約予測
description: 顧客が製品やサービスを購入しなくなるリスクがあるかどうかを予測します。
ms.date: 11/12/2020
ms.reviewer: zacook
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: f3cbbf99a6cecba2aab2cf85428d53e5df8346e4
ms.sourcegitcommit: 6a6df62fa12dcb9bd5f5a39cc3ee0e2b3988184b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/25/2020
ms.locfileid: "4644409"
---
# <a name="transactional-churn-prediction-preview"></a>トランザクション解約予測 (プレビュー)

トランザクション解約予測は、顧客が特定の時間枠内に製品またはサービスを購入しなくなるかどうかを予測するのに役立ちます。 **インテリジェンス** > **予測** で新しい解約予測を作成できます。 作成済みの予測を確認するには、**自分の予測** を選択します。

> [!TIP]
> サンプル データを使用して、トランザクション解約予測のチュートリアルを試してみてください: [トランザクション解約予測サンプル ガイド](sample-guide-predict-transactional-churn.md)。

## <a name="prerequisites"></a>前提条件

- 少なくとも Customer Insights の[共同作成者権限](permissions.md) があること。
- ビジネスにとっての解約の意味を理解するためのビジネス知識。 時間ベースの解約定義をサポートします。つまり、顧客は購入がない期間の後に解約したと見なされます。
- トランザクション/購入とその履歴に関するデータ:
    - 購入/トランザクションを区別するためのトランザクション識別子。
    - トランザクションを顧客に一致させるための顧客 ID。
    - トランザクションが発生した日付を定義するトランザクション イベントの日付。
    - 購入/トランザクションのセマンティック データ スキーマには、次の情報が必要です:
        - **トランザクション ID:** 購入またはトランザクションの一意識別子。
        - **トランザクションの日付:** 購入またはトランザクションの日付。
        - **トランザクションの値:** トランザクション/品目の通貨/数値。
        - (オプション) **一意の製品 ID:** データが品目レベルの場合に購入した製品またはサービスの ID。
        - (オプション) **このトランザクションが返品であったかどうか:** トランザクションが返品であったかどうかを識別する true/false フィールド。 **トランザクションの値** がマイナスの場合、この情報を使用して返品を推測します。
- (オプション) 顧客活動に関するデータ:
    - 同じタイプのアクティビティを区別するアクティビティの識別子。
    - アクティビティを顧客にマッピングする顧客の識別子。
    - アクティビティの名前と日付を含むアクティビティ情報。
    - 顧客活動の意味論的データ スキーマには次のものが含まれます :
        - **主キー :** アクティビティの一意の識別子。 たとえば、Web サイトへのアクセスや、顧客が製品のサンプルを試したことを示す使用記録などです。
        - **タイムスタンプ :** 主キーで識別されるイベントの日時。
        - **イベント :** 使用するイベントの名前。 たとえば、食料品店の "UserAction" というフィールドは、顧客が使用するクーポンである可能性があります。
        - **詳細 :** イベントの詳細情報。 たとえば、食料品店の "CouponValue" というフィールドは、クーポンの通貨値である可能性があります。

## <a name="create-a-transactional-churn-prediction"></a>トランザクション解約予測の作成

1. Customer Insights で、**インテリジェンス** > **予測** に移動します。

1. **顧客離反モデル (プレビュー)** タイルを選択して、**このモデルを使用** を選択します。
   
1. **顧客離反モデル** ペインで、**トランザクション** を選択して、**開始する** を選択します。

:::image type="content" source="media/select-transaction-churn.PNG" alt-text="顧客離反モデル ペインで選択されたトランザクション オプションのスクリーンショット。":::

### <a name="name-model"></a>モデルに名前を付ける

1. モデルにはその他と区別できるような名前を付けてください。

1. 出力エンティティの名前には、スペースを含まない文字と数字のみを使用してください。 この名前を、モデル エンティティが使用します。 

1. **次へ** を選択します。

### <a name="define-customer-churn"></a>顧客離反の定義

1. **次の解約の可能性がある顧客を特定する** フィールドで、解約を予測する期間を設定します。 たとえば、今後 90 日間の顧客の解約リスクを予測して、マーケティング保持の取り組みに合わせます。 解約リスクを長い期間または短い期間で予測すると、解約リスク プロファイルの要因に対処することがより困難になる可能性がありますが、それは特定のビジネス要件によって異なります。 
   >[!TIP]
   > 下書き状態の予測はいつでも、**保存して閉じる** を選択して保存できます。 予測ドラフトは **自分の予測** タブをで続きを見ることができます。

1. **顧客が購入していない場合に解約する日数** フィールドに、解約を定義する日数を入力します。 たとえば、顧客が過去 30 日間に一度も購入していない場合、ビジネスに対して解約されたと見なされる可能性があります。 

1. **次へ** を選んで続行します。

### <a name="add-required-data"></a>必須データを追加する

1. **購入履歴** の **データを追加** を選択し、[前提条件](#prerequisites) に記載されているように、トランザクション/購入履歴情報を提供するエンティティを選択します。

1. セマンティック フィールドを購入履歴エンティティ内の属性にマップし、**次へ** を選択します。 フィールドの説明については、[前提条件](#prerequisites)を参照してください。

   :::image type="content" source="media/model-map-purchase-entity.PNG" alt-text="購入エンティティのセマンティック フィールドをマップします。":::

1. 以下のフィールドが入力されていない場合は、購入履歴エンティティから顧客エンティティへの関係を構成します。
    1. **購入履歴エンティティ** を選択します。
    1. 購入履歴エンティティで顧客を識別する **フィールド** を選択します。 これは、顧客エンティティの主要な顧客 ID に関連している必要があります。
    1. 主要な顧客エンティティと一致する **顧客エンティティ** を選択します。
    1. 関係性を説明する名前を入力します。

    :::image type="content" source="media/model-purchase-join.PNG" alt-text="顧客との関係の作成を示す購入履歴ページ。":::
   
1. **次へ** を選択します。

1. 必要に応じて、**顧客活動** の **データの追加** を選択します。 前提条件に記載されているように、顧客活動情報を提供するエンティティを選択します。

1. セマンティック フィールドを顧客活動エンティティ内の属性にマップし、**次へ** を選択します。 フィールドの説明については、[前提条件](#prerequisites)を参照してください。

1. 構成した顧客活動のタイプに一致する活動タイプを選択します。 **新規作成** を作成して、利用可能な活動の種類を選択するか、新しい種類を作成します。

1. 顧客アクティビティのエンティティと顧客エンティティの関係を構成する必要があります。
    1. 顧客活動テーブルで顧客を識別する フィールドを選択します。 これは、顧客エンティティのプライマリ 顧客 ID に直接関連付けることができます。
    1. 主要な顧客エンティティと一致する顧客エンティティを選択します
    1. 関係性を説明する名前を入力します。

1. **保存** を選択します。

1. 他にも顧客活動がある場合は、上記の手順を繰り返します。

1. **次へ** を選択します。

### <a name="set-schedule-and-review-configuration"></a>スケジュールを設定して構成を確認する

1. モデルの再トレーニングを実施する頻度を設定します。 この設定は、新しいデータが取り込まれるときに、予測の精度を更新するために重要です。 多くの企業は、月に1度再トレーニングして、予測の精度を高めることができます。

1. **次へ** を選択します。

1. 予測の構成を確認します。 表示された値の下で **編集** を選択すると、前の手順に戻ることができます。 または、進行状況のインジケーターから構成のステップを選択できます。

1. すべての値が正しく構成されている場合は、**保存して実行する** を選択して予測プロセスを開始します。 **自分の予測** タブで、予測の状態を確認できます。 予測で使用されるデータの量によっては、プロセスの完了までに数時間かかる場合があります。

## <a name="review-a-prediction-status-and-results"></a>予測の状態と結果を確認する

1. **インテリジェンス** > **予測** に移動し、**自分の予測** タブを選択します。

1. レビューする予測を選択します。
   - **予測名:** 作成時に提供された予測の名前。
   - **予測の種類:** 予測に使用されるモデルのタ種類
   - **出力エンティティ :** 予測の出力を保存するエンティティの名前。 **データ** > **エンティティ** で、この名前を持つエンティティを見つけることができます。
   - **予測フィールド:** このフィールドは、一部の種類の予測に対してのみ入力され、解約予測では使用されません。
   - **状態:** 予測実行の状態。
        - **キュー:** 予測は、他のプロセスが実行されるのを待っています。
        - **更新:** 予測は現在、実行されており、出力エンティティに流れ込む結果を生成します。
        - **失敗:** 予測の実行に失敗しました。 詳細については、[ログを確認](#troubleshoot-a-failed-prediction) します。
        - **成功:** 予測は成功しました。 省略記号配下の **表示** を選択して予測を確認します
   - **編集日 :** 予測の構成が変更された日付。
   - **最終更新日 :** 予測結果が出力エンティティで更新された日付。

1. 予測の横にある縦の省略記号を選択して、確認する結果の **表示** を選択します。

   :::image type="content" source="media/model-subs-view.PNG" alt-text="コントロールを表示して、予測の結果を確認します。":::   

1. 結果ページには、3つの主要なデータ セクションがあります。
    1. **トレーニング モデルのパフォーマンス :** 使用可能なスコアは A、B、C です。 このスコアは予測のパフォーマンスを示し、出力エンティティに格納されている結果を使用するかどうかの決定に役立ちます。 スコアは次のルールに基づいて決定されます :
         
         - **A** モデルが予測全体の少なくとも 50% を正確に予測した場合、および解約した顧客の正確な予測の割合がベースライン率より少なくとも 10% 大きい場合。
            
         - **B** モデルが予測全体の少なくとも 50% を正確に予測した場合、および解約した顧客の正確な予測の割合がベースラインより最大 10% 大きい場合。
            
         - **C** モデルが予測全体の 50% 未満を正確に予測した場合、または解約した顧客の正確な予測の割合がベースラインより少ない場合。
               
         - **ベースライン** は、モデルの予測時間枠の入力 (たとえば、1 年) を取得し、モデルは、1 か月以下に達するまで 2 で割ることにより、さまざまな時間の割合を作成します。 これらの割合を使用して、この期間に購入していない顧客向けのビジネス ルールを作成します。 これらの顧客は解約されたと見なされます。 誰が解約するかを予測する最も高い能力を持つ時間ベースのビジネス ルールが、ベースライン モデルとして選択されます。
            
    1. **解約の可能性 (顧客数) :** 解約の予測リスクに基づく顧客のグループ。 このデータは、解約のリスクが高い顧客のセグメントを作成する場合に役立ちます。 このようなセグメントは、セグメント メンバーの停止がどこにあるべきかを理解するのに役立ちます。
       
    1. **最も影響力のある要因 :** 予測を作成する際には、様々な要素が考慮されています。 各因子には、モデルが作成する集計された予測に対して計算された重要度があります。 これらの要素を使用して、予測の結果を検証することができます。 あるいは、この情報を後で使用して、顧客の解約リスクに影響を与える[セグメントを作成する](segments.md)こともできます。

## <a name="troubleshoot-a-failed-prediction"></a>失敗した予測のトラブルシューティング

1. **インテリジェンス** > **予測** に移動し、**自分の予測** タブを選択します。

1. エラー ログを表示する予測の横にある縦の省略記号を選択します。

1. **ログ** を選択します。

1. すべてのエラーをレビューします。 発生するエラーにはいくつかの種類があり、どのような状態でエラーが発生したかを記載しています。 たとえば、正確に予測するための十分なデータがない、というエラーは、多くの場合で Customer Insights に追加のデータをロードすることで解決されます。

## <a name="refresh-a-prediction"></a>予測を更新する

予測は、設定で構成されているとおり、同一の[データ更新スケジュール](system.md#schedule-tab)に基づいて自動的に更新されます。 手動で更新することもできます。

1. **インテリジェンス** > **予測** に移動し、**自分の予測** タブを選択します。

1. 更新する予測の横に配置されている縦型の省略記号を選択します。

1. **最新の情報に更新** を選択します。

## <a name="delete-a-prediction"></a>予測を削除する

予測を削除すると、その出力エンティティも削除されます。

1. **インテリジェンス** > **予測** に移動し、**自分の予測** タブを選択します。

1. 削除する予測の横に配置されている縦型の省略記号を選択します。

1. **削除** を選択します。

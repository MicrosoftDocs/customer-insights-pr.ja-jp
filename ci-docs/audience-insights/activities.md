---
title: 顧客活動
description: 顧客活動を定義し、顧客のタイムラインで表示します。
ms.date: 10/13/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.reviewer: adkuppa
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: 1c95cba333266a73959de0a3afe1c8677130a3ec
ms.sourcegitcommit: 334633cbd58f5659d20b4f87252c1a10cc7130db
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/03/2020
ms.locfileid: "4667235"
---
# <a name="customer-activities"></a>顧客活動

Dynamics 365 Customer Insights で [さまざまなデータ ソース](data-sources.md) からの顧客活動を組み合わせて、活動を時系列順に一覧表示する顧客のタイムラインを作成します。 [カスタマー カード アドイン](customer-card-add-in.md)、または Power BI ダッシュボードを介して、Dynamics 365 の顧客エンゲージメント アプリにタイムラインを含めることができます。

## <a name="define-an-activity"></a>活動を定義する

データソースには、複数のデータソースからのトランザクション データと活動データを持つエンティティが含まれています。 これらのエンティティを識別し、顧客のタイムラインで表示するアクティビティを選択します。 対象となる活動 (複数可) を含むエンティティを選択します。

1. 対象者に関するインサイトで、**データ** > **活動** に移動します。

1. **活動の追加** を選択します。

   > [!NOTE]
   > エンティティには、顧客のタイムラインに含めるために少なくとも 1 つの **日付** 属性が必要で、**日付** フィールドなしではエンティティを追加できません。 このようなエンティティが見つからない場合は、**活動の追加** コントロールは無効になります。

1. **活動の追加** ウィンドウで、次のフィールドの値を設定します。

   - **エンティティ** : トランザクションデータまたは活動データを含むエンティティを選択します。
   - **主キー** : レコードを一意に識別するフィールドを選択します。 重複する値、空の値、または欠損した値を含めることはできません。
   - **タイムスタンプ** : 活動の開始時間を表すフィールドを選択します。
   - **イベント** : 活動のイベントであるフィールドを選択します。
   - **Web アドレス** : このアクティビティに関する追加情報を提供する URL を表すフィールドを選択します。 たとえば、このアクティビティのソースとなるトランザクション システムです。 この URL は、データ ソースの任意のフィールドにすることも、Power Query 変換を使用して新たなフィールドとして構築することもできます。 この URL データは、API を使用してダウン ストリームで使用できる 統合された活動エンティティに保存されます。
   - **詳細** : オプションで、追加の詳細のために追加されるフィールドを選択します。
   - **アイコン** : オプションで、この活動を表すアイコンを選択します。
   - **活動タイプ** : 活動の意味上の定義を最もよく表す Common Data Model への活動タイプの参照を定義します。

1. **リレーションシップの設定** セクションで、活動データを対応する顧客に接続するために使用される詳細を構成する必要があります。

   > [!div class="mx-imgBorder"]
   > ![エンティティ リレーションシップを定義する](media/activities-entities-define.png "エンティティ リレーションシップを定義する")

    - **活動エンティティ フィールド**: 別のエンティティとのリレーションシップを確立するために使用される活動エンティティでフィールドを選択します。
    - **顧客エンティティ**: 活動エンティティがリレーションシップになる対応するソース顧客エンティティを選択します。 データ統合プロセスで使用されるソース顧客エンティティのみに関連付けることができます。
    - **顧客エンティティ フィールド**: このフィールドには、マップ プロセスで選択されたソース顧客エンティティの主キーが表示されます。 ソース顧客エンティティのこの主キー フィールドは、アクティビティ エンティティとの関係を確立するために使用されます。
    - **名前**: このアクティビティ エンティティと選択したソース顧客エンティティの間に関係が既に存在する場合、関係名は読み取り専用モードになります。 そのような関係が存在しない場合、ここで指定された名前で新しい関係が作成されます。

1. **保存** を選択して変更を適用します。

1. **活動** ページで、**実行** を選択します。

> [!TIP]
> タスク/プロセスには、[6 種類の状態](system.md#status-types) があります。 さらに、ほとんどのプロセスは、[その他の下流プロセスに依存します](system.md#refresh-policies)。 プロセスのステータスを選択して、ジョブ全体の進行状況の詳細を確認できます。 ジョブのタスクの 1 つについて **詳細の表示** を選択すると、処理時間、最終処理日、およびタスクに関連するすべてのエラーと警告などの追加情報が表示されます。

## <a name="edit-an-activity"></a>活動の編集

1. 対象者に関するインサイトで、**データ** > **活動** に移動します。

2. 編集する活動エンティティを選択して、**編集** を選択します。 または、エンティティ行にカーソルを合わせて、**編集** アイコンを選択します。

3. **編集** アイコンをクリックします。

4. **活動の編集** ウィンドウで、値を更新して **保存** を選択します。

5. **活動** ページで、**実行** を選択します。

## <a name="delete-an-activity"></a>活動の削除

1. 対象者に関するインサイトで、**データ** > **活動** に移動します。

2. 削除する活動エンティティを選択して、**削除** を選択します。 または、エンティティ行にカーソルを合わせて、**削除** アイコンを選択します。 さらに、一度に削除する複数のアクティビティ エンティティを選択できます。
   > [!div class="mx-imgBorder"]
   > ![エンティティ関係を編集または削除する](media/activities-entities-edit-delete.png "エンティティ関係を編集または削除する")

3. **削除** アイコンを選択します。

4. 削除を確認します。

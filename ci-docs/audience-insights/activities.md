---
title: 顧客活動
description: 顧客の活動を定義し、顧客プロファイルのタイムラインでこれらを表示します。
ms.date: 11/01/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.reviewer: mhart
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
ms.openlocfilehash: c99ec2e7d5e4bf32a509bbe4c0c53999129b2305
ms.sourcegitcommit: 834651b933b1e50e7557d44f926a3fb757c1f83a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/02/2021
ms.locfileid: "7732466"
---
# <a name="customer-activities"></a>顧客活動

Dynamics 365 Customer Insights では、[さまざまなデータ ソース](data-sources.md) からの顧客活動を組み合わせて、活動を時系列で一覧表示するタイムラインを作成します。 [顧客カード アドイン](customer-card-add-in.md) ソリューション、または Power BI ダッシュボードを使用して、Dynamics 365 アプリにタイムラインを含めます。

## <a name="define-an-activity"></a>活動を定義する

データ ソースには、複数のデータ ソースからのトランザクション データと活動データを持つエンティティを含めることができます。 これらのエンティティを識別し、顧客のタイムラインで表示するアクティビティを選択します。 対象となる活動 (複数可) を含むエンティティを選択します。

エンティティには、顧客のタイムラインに含めるために少なくとも 1 つの **日付** 属性が必要で、**日付** フィールドなしではエンティティを追加できません。 このようなエンティティが見つからない場合は、**活動の追加** コントロールは無効になります。

1. 対象者に関するインサイトで、**データ** > **活動** に移動します。

1. **活動の追加** を選択して、活動設定プロセスのガイド付きエクスペリエンスを開始します。

1. **活動データ** の手順で、次のフィールドの値を設定します:

   - **活動名**: 活動の名前を選択します。
   - **エンティティ**: トランザクションデータ、つまり活動データを含むエンティティを選択します。
   - **主キー** : レコードを一意に識別するフィールドを選択します。 重複する値、空の値、または欠損した値を含めることはできません。

   :::image type="content" source="media/Activity_Wizard1.PNG" alt-text="名前、エンティティ、および主キーを使用して活動データを設定する。":::

1. **次へ** を選択して、次の手順に移動します。

1. **リレーションシップ** ステップで、活動データを対応する顧客レコードに接続するために使用される詳細を構成します。 この手順では、エンティティ間の接続を視覚化します。  

   - **第 1**: 別のエンティティとの関係を確立するために使用される活動エンティティの外部フィールド。
   - **第 2**: 活動エンティティが関係する、対応するソース顧客エンティティ。 データ統合プロセスで使用されるソース顧客エンティティにのみ関連付けることができます。
   - **第 3**: この活動エンティティと選択したソース顧客エンティティの間に関連がすでに存在する場合、関連付け名は読み取り専用モードになります。 そのような関連が存在しない場合は、このボックスに入力した名前で新しい関係が作成されます。

   :::image type="content" source="media/Activity_Wizard2.PNG" alt-text="エンティティの関連付けを定義する。":::

   > [!TIP]
   > B-to-B 環境では、取引先企業エンティティと他のエンティティのどちらかを選択できます。 取引先企業エンティティを選択すると、リレーションシップ パスが自動的に設定されます。 他のエンティティの場合、取引先企業エンティティに到達するまで、1 つ以上の中間エンティティの関係パスを定義する必要があります。

1. **次へ** を選択して、次の手順に移動します。 

1. **活動の統合** の手順で、活動イベントと活動の開始時間を選択します。 
   - **必須フィールド**
      - **イベント活動**: この活動のイベントであるフィールド。
      - **タイムスタンプ**: 活動の開始時刻を表すフィールド。

   - **オプション フィールド**
      - **追加情報**: この活動に関連する情報を含むフィールド。
      - **アイコン**: この活動の種類を最もよく表すアイコン。
      - **Web アドレス**: この活動に関する情報を含む URL を持つフィールド。 たとえば、このアクティビティのソースとなるトランザクション システムです。 この URL は、データ ソースの任意のフィールドにすることも、Power Query 変換を使用して新たなフィールドとして構築することもできます。 URL データは、*Unified Activity* エンティティに保存され、[API](apis.md) を使用してダウンストリームで使用できます。

   - **タイムラインに表示**
      - この活動を顧客プロファイルのタイムライン ビューに表示するかどうかを選択します。 **はい** を選択し、タイムラインに活動を表示するか、**いいえ** を選択して非表示します。

      :::image type="content" source="media/Activity_Wizard3.PNG" alt-text="Unified Activity エンティティで顧客活動データを指定する。":::

1. **次へ** を選択して、次の手順に移動します。 **終了して確認** を選択して、活動の種類を **その他** に設定した状態で活動を保存できます。 

1. **活動の種類** の手順で活動の種類を選択し、オプションで Customer Insights の他の領域で使用するために活動の種類の一部をセマンティックにマップするかどうかを選択します。 現在、活動タイプ: *フィードバック*、*ロイヤリティ*、*SalesOrder*、*SalesOrderLine*、*サブスクリプション* はフィールドのマッピングに合意した後は、セマンティックにマッピングすることができます。 活動の種類が新しい活動に関連しない場合は、カスタム活動の種類に *その他* または *新規作成* を選択できます。

1. **次へ** を選択して、次の手順に移動します。 

1. **レビュー** の手順で、選択内容を確認します。 前の手順のいずれかに戻り、必要に応じて情報を更新します。

   :::image type="content" source="media/Activity_Wizard5.PNG" alt-text="活動に指定されたフィールドを確認する。":::
   
1. **活動を保存する** を選択して変更を適用し、**完了** を選択して、**データ** > **活動** に戻ります。 ここでは、タイムラインに表示するように設定されている活動を確認できます。 

1. **活動** ページで **実行** を選択し、活動を処理します。 

[!INCLUDE [progress-details-include](../includes/progress-details-pane.md)]

## <a name="manage-existing-activities"></a>既存の活動の管理

**データ** > **活動** で、保存したすべての活動を表示して管理できます。 各活動は、ソース、エンティティ、および活動の種類に関する詳細も含む行で表されます。

活動を選択すると、次のアクションが可能になります。 

- **編集**: レビューの手順で活動設定を開きます。 この手順から、現在の構成の一部またはすべてを変更できます。 構成を変更した後、**活動を保存する** を選択し、**実行** を選択して変更を処理します。

- **名前の変更**: 選択した活動に別の名前を入力できるダイアログを開きます。 **保存** を選択して変更を適用します。

- **削除**: 選択した活動の削除を確認するダイアログを開きます。 活動を選択してから削除アイコンを選択することにより、一度に複数の活動を削除することもできます。 **削除** を選択して、削除内容を確認します。

## <a name="view-activity-timelines-on-customer-profiles"></a>顧客プロファイルの活動タイムラインを表示する

顧客活動を構成した後、活動構成で **活動タイムラインに表示** を選択して、顧客プロファイルですべての顧客の活動を検索します。

顧客のタイムラインを開くには、**顧客** に移動し、表示する顧客プロファイルを選択します。

構成した活動に顧客が参加している場合は、**活動のタイムライン** セクションに表示されます。

:::image type="content" source="media/Activity_Timeline1.PNG" alt-text="顧客プロファイルで構成済みの活動を表示します。":::

活動タイムラインで活動をフィルタリングする方法はいくつかあります。

- 1 つまたは複数の活動アイコンを選択して、選択したタイプのみを含むように結果を絞り込むことができます。

  :::image type="content" source="media/Activity_Timeline2.PNG" alt-text="アイコンを使用して、タイプで活動をフィルタリングします。":::

- **フィルター** を選択してフィルター パネルを開き、タイムライン フィルターを構成します。

   1. *ActivityType* と *Date* 別にフィルタリングできます
   1. **適用** を選択して、活動タイムラインでフィルターを使用します。

   :::image type="content" source="media/Activity_Timeline3.PNG" alt-text="フィルター パネルを使用して、フィルター条件を設定します。":::

フィルターを削除するには、タイムラインに適用された各フィルターの横の **x** を選択して、**フィルターをクリアする** を選択します。


> [!NOTE]
> 顧客プロファイルを離れると、活動フィルターが削除されます。 顧客プロファイルを開くたびにそれらを適用する必要があります。

[!INCLUDE[footer-include](../includes/footer-banner.md)]

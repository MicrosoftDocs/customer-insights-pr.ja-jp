---
title: 製品レコメンデーションの予測
description: 顧客が購入またはやり取りする可能性のある製品を予測します。
ms.date: 02/15/2021
ms.reviewer: zacook
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: 5a2eb2b4697e51a0abb933b654a9b0b150dfa6a3
ms.sourcegitcommit: 139548f8a2d0f24d54c4a6c404a743eeeb8ef8e0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/15/2021
ms.locfileid: "5270507"
---
# <a name="product-recommendation-prediction-preview"></a>製品レコメンデーションの予測 (プレビュー)

製品レコメンデーション モデルは、予測製品レコメンデーションのセットを作成します。 レコメンデーションは、以前の購入行動と同様の購入パターンを持つ顧客に基づいています。 **インテリジェンス** > **予測** ページで、新しい製品レコメンデーション予測を作成できます。 作成済みの予測を確認するには、**自分の予測** を選択します。

製品レコメンデーションは、現地の法律や規制、および顧客の期待の対象となる場合がありますが、モデルは特に考慮に入れるよう構築されていません。  この予測機能のユーザーの場合、**レコメンデーションを顧客に提供する前に確認して**、適用される法律や規制を遵守し、推奨する対象である顧客の期待に沿うようにする必要があります。 

さらに、このモデルの出力は、製品 ID に基づいたレコメンデーションを提供します。 配信メカニズムでは、予測された製品 ID を取得し、それらを適切なコンテンツにマッピングして、ローカリゼーション、画像コンテンツ、およびその他のビジネス固有のコンテンツや動作を説明する必要があります。

## <a name="sample-guide"></a>サンプル ガイド

この機能を試すことに興味があるが、以下の要件を満たすためのデータがない場合は、[サンプル実装を作成する](sample-guide-predict-product-recommendation.md)ことができます。

## <a name="prerequisites"></a>前提条件

- 少なくとも Customer Insights の[共同作成者権限](permissions.md) があること。
- ビジネスのためのさまざまなタイプの製品と、顧客がそれらをどのように操作するかを理解するためのビジネス知識。 以前に顧客が購入した製品または新製品のレコメンデーションをサポートします。
- トランザクション、購入、その履歴に関するデータ:
    - 購入またはトランザクションを区別するためのトランザクション識別子。
    - トランザクションを顧客にマッピングするための顧客 ID。
    - トランザクションが発生した日付を指定するトランザクション イベント日付。
    - (オプション) トランザクションの製品 ID 情報。
    - (オプション) トランザクションが返品であるかどうか。
    - セマンティック データ スキーマには、次の情報が必要です:
        - **トランザクション ID:** 購入またはトランザクションの一意識別子。
        - **トランザクションの日付:** 購入またはトランザクションの日付。
        - **トランザクションの値:** 購入またはトランザクションの数値。
        - **一意の製品 ID:** データが品目レベルの場合に購入した製品またはサービスの ID。
        - (オプション) **購入または返品:** トランザクションが返品であったかどうかを識別する true/false フィールド。 **トランザクションの値** がマイナスの場合、この情報を使用して返品を推測します。


## <a name="create-a-product-recommendation-prediction"></a>製品レコメンデーション予測を作成する

1. Customer Insights で、**インテリジェンス** > **予測** に移動します。

1. **製品レコメンデーション モデル (プレビュー)** タイルを選択して、**このモデルを使用** を選択します。
   > [!div class="mx-imgBorder"]
   > ![[このモデルを使用]ボタンを使用した製品レコメンデーション モデル タイル](media/product-recommendation-usethismodel.PNG "[このモデルを使用]ボタンを使用した製品レコメンデーション モデル タイル")

1. モデル要件に関する情報をレビューします。 必要なデータがある場合は、**開始する** を選択します。

### <a name="name-model"></a>モデルに名前を付ける

1. モデルにはその他と区別できるような名前を付けてください。

1. スペースを入れずに、文字と数字のみを使用して出力エンティティの名前を入力します。 この名前を、モデル エンティティが使用します。 続いて、**次へ** を選択します。

### <a name="define-product-recommendation-configuration"></a>製品レコメンデーション構成を定義する

1. 顧客に推薦する **製品数** を設定します。 この値は、配信方法がデータをどのように入力するかによって異なります。 3 つの製品を推奨できる場合、それに応じてこの値を設定します。
   
   >[!TIP]
   > 下書き状態の予測はいつでも、**保存して閉じる** を選択して保存できます。 ドラフト予測は **自分の予測** タブに表示されます。

1. **顧客が最近購入した製品を提案する** かどうかを選択します。

1. 最近購入した商品を推奨 *しない* ことを選択した場合、**ウィンドウを見返す** を設定します。 この設定は、モデルが製品をユーザーに再度推奨する前に考慮する概算時間を指定します。 たとえば、顧客が 2 年ごとにラップトップを購入することを示します。 このウィンドウでは、過去 2 年間の購入履歴が表示され、アイテムが見つかった場合、そのアイテムはレコメンデーションから除外されます。

1. **次へ** を選択します。

### <a name="add-required-data"></a>必須データの追加

1. **購入履歴** に対して **データを追加** を選択し、[前提条件](#prerequisites)に記載されているように、トランザクション/購入履歴情報を提供するエンティティを選択します。

1. セマンティック フィールドを購入履歴エンティティ内の属性にマップし、**次へ** を選択します。 フィールドの説明については、[前提条件](#prerequisites)を参照してください。
   > [!div class="mx-imgBorder"]
   > ![エンティティ リレーションシップを定義する](media/product-recommendation-purchasehistorymapping.PNG "選択した購入履歴エンティティのフィールドにマッピングされているセマンティック属性を示す購入履歴ページ")

1. フィールドに値が入力されていない場合は、購入履歴エンティティから *顧客* エンティティへの関係を構成します。
    1. **購入履歴エンティティ** を選択します。
    1. 購入履歴エンティティで顧客を識別する **フィールド** を選択します。 これは、*顧客* エンティティの主要な顧客 ID に関連している必要があります。
    1. 主要な顧客エンティティと一致する **顧客エンティティ** を選択します。
    1. 関係性を説明する名前を入力します。
       > [!div class="mx-imgBorder"]
       > ![顧客との関係の作成を示す購入履歴ページ](media/model-purchase-join.png "顧客との関係の作成を示す購入履歴ページ")

1. **保存** を選択します。

1. **次へ** を選択します。

### <a name="set-schedule-and-review-configuration"></a>スケジュールの設定と構成のレビュー

1. モデルの再トレーニングを実施する頻度を設定します。 この設定は、新たなデータが Customer Insights にインポートされる際に予測の精度を更新するために重要です。 多くの企業は、月に1度再トレーニングして、予測の精度を高めることができます。

1. **次へ** を選択します。

1. 構成を確認します。 表示された値の配下の **編集する** を選択して、予測の構成の任意の部分に戻ることができます。 または、進行状況のインジケーターから構成のステップを選択できます。

1. すべての値が正しく構成されている場合は、**保存して実行する** を選択して予測プロセスを開始します。 **自分の予測** タブで、予測の状態を確認できます。 予測で使用されるデータの量によっては、プロセスの完了までに数時間かかる場合があります。

## <a name="review-a-prediction-status-and-results"></a>予測の状態と結果を確認する

1. **インテリジェンス** > **予測** で **自分の予測** タブに移動します。
   > [!div class="mx-imgBorder"]
   > ![自分の予測ページを表示する](media/product-recommendation-mypredictions.PNG "自分の予測ページを表示する")

1. レビューする予測を選択します。
   - **予測名 :** 作成時に入力された予測の名前。
   - **予測タイプ :** 予測に使用されるモデルのタイプ
   - **出力エンティティ :** 予測の出力を保存するエンティティの名前。 **データ** > **エンティティ** で、この名前を持つエンティティを見つけることができます。
   - **予測フィールド:** このフィールドは、一部の種類の予測に対してのみ入力され、解約予測では使用されません。
   - **状態 :** 実行された予測の現在の状態を表示します。
        - **待機中 :** 予測は現在、他のプロセスの実行を待機しています。
        - **更新中 :** 予測は現在、処理の「スコア」ステージを実行し、出力エンティティに連携される結果を生成します。
        - **失敗 :** 予測は失敗しました。 詳細については、 **ログ** を選択してください。
        - **成功 :** 予測は成功しました。 省略記号配下の **表示** を選択して予測を確認します
   - **編集日 :** 予測の構成が変更された日付。
   - **最終更新日 :** 予測結果が出力エンティティで更新された日付。

1. 予測の横にある縦の省略記号を選択して、確認する結果の **表示** を選択します。
   > [!div class="mx-imgBorder"]
   > ![編集、更新、表示、ログ、お削除を含む予測の縦の省略記号メニューのオプションの表示](media/product-recommendation-verticalellipses.PNG "編集、更新、表示、ログ、お削除を含む予測の縦の省略記号メニューのオプションの表示")

1. 結果ページには、3つの主要なデータ セクションがあります。
    1. **トレーニング モデルのパフォーマンス :** 使用可能なスコアは A、B、C です。 このスコアは予測のパフォーマンスを示し、出力エンティティに格納されている結果を使用するかどうかの決定に役立ちます。
        - スコアは次のルールに基づいて決定されます。
            - **A** 「Success @ K」メトリックがベースラインより最低 10% 高い場合、モデルは **A** 品質とみなされます。 
            - **B** 「Success @ K」メトリックがベースラインより 0～10% 高い場合、モデルは **B** 品質とみなされます。
            - **C** 「Success @ K」メトリックがベースラインより低い場合、モデルは **C** 品質とみなされます。
               
               > [!div class="mx-imgBorder"]
               > ![モデルのパフォーマンス結果を表示する](media/product-recommendation-modelperformance.PNG "モデルのパフォーマンス結果を表示する")
            - **ベースライン**: モデルは、すべての顧客の購入数で最も推奨される製品を取得し、モデルによって識別された学習ルールを使用して、顧客向けの一連のレコメンデーションを作成します。 次に、予測は、製品を購入した顧客の数によって計算された上位の製品と比較されます。 顧客が推奨製品に少なくとも 1 つの製品を持っていて、それが上位の購入製品にも見られた場合、それらはベースラインの一部と見なされます。 合計 100 人の顧客のうち推奨製品を購入した顧客が 10 人いた場合、ベースラインは 10% になります。
            - **Success @ K**: トランザクションの期間の検証セットを使用して、すべての顧客に対してレコメンデーションが作成され、トランザクションの検証セットと比較されます。 たとえば、12 か月の期間で、12 月はデータの検証セットとして確保される場合があります。 モデルで、過去 11 か月から学んだことに基づいて、12 月に購入するものを少なくとも 1 つ予測する場合、顧客が「Success @K」メトリックを増やします。
    
    1. **最も提案された製品 (集計あり):** 顧客のために予測された上位 5 つの製品。
       > [!div class="mx-imgBorder"]
       > ![最も推奨される上位 5 つの製品を示すグラフ](media/product-recommendation-topproducts.PNG "最も推奨される上位 5 つの製品を示すグラフ")
    
    1. **信頼度の高い製品に関するレコメンデーション:** モデルが顧客によって購入される可能性が高いと考えている、顧客に提供されるレコメンデーションのサンプル。
       > [!div class="mx-imgBorder"]
       > ![個々の顧客の一部のセットに対する信頼性の高い提案を示すリスト](media/product-recommendation-highconfidence.PNG "個々の顧客の一部のセットに対する信頼性の高い提案を示すリスト")

## <a name="fix-a-failed-prediction"></a>失敗した予測を修正する

1. **インテリジェンス** > **予測** で **自分の予測** タブに移動します。

1. エラーログを表示する予測を選択して **ログ** を選択します。

1. すべてのエラーをレビューします。 発生するエラーにはいくつかの種類があり、どのような状態でエラーが発生したかを記載しています。 たとえば、正確に予測するための十分なデータがない、というエラーは、多くの場合で Customer Insights に追加のデータをロードすることで解決されます。

## <a name="refresh-a-prediction"></a>予測を更新する

予測は、設定で構成したものと同じ[スケジュール](system.md#schedule-tab)でデータを自動更新します。

1. **インテリジェンス** > **予測** で **自分の予測** タブに移動します。

1. 更新する予測の横に配置されている縦型の省略記号を選択します。

1. **更新** を選択します。

## <a name="delete-a-prediction"></a>予測を削除する

予測を削除すると、その出力エンティティも削除されます。

1. **インテリジェンス** > **予測** で **自分の予測** タブに移動します。

1. 削除する予測の横に配置されている縦型の省略記号を選択します。

1. **削除** を選択します。


[!INCLUDE[footer-include](../includes/footer-banner.md)]
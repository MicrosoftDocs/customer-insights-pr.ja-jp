---
title: セグメントを作成して管理する
description: 顧客のセグメントを作成して、さまざまな属性に基づいてグループ化します。
ms.date: 10/15/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: jimsonc
manager: shellyha
ms.openlocfilehash: 6931110c2ae93cd2792d319aa5a34f0df3088552
ms.sourcegitcommit: cf9b78559ca189d4c2086a66c879098d56c0377a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2020
ms.locfileid: "4406201"
---
# <a name="create-and-manage-segments"></a>セグメントを作成して管理する

セグメントでは、統計、トランザクション、または行動の属性に基づいて、顧客をグループ化できます。 セグメントを使用すると、プロモーション キャンペーン、営業活動、顧客サポート アクションを対象にして、ビジネス目標を達成することができます。

顧客プロファイル エンティティとそれに関連するエンティティの周りに複雑なフィルターを定義できます。 処理後の各セグメントには、エクスポートして操作できる顧客エンティティ レコードのセットが作成されます。 一部の [サービス制限](service-limits.md) が適用されます。

特に明記されていない限り、すべてのセグメントは **動的セグメント** であり、定期的に更新されます。

次の例は、セグメント化機能を示しています。 過去 90 日間に 500 ドル以上の商品を注文した顧客 *と* エスカレートされた顧客サービス呼び出しに関与した顧客のセグメントを定義しました。

> [!div class="mx-imgBorder"]
> ![複数のグループ化](media/segmentation-group1-2.png "複数のグループ化")

## <a name="create-a-new-segment"></a>新しいセグメントの作成

セグメントは、**セグメント** ページで管理されます。

1. 対象者に関するインサイトで、**セグメント** ページに移動します。

2. **新規** > **空白のセグメント** を選択します。

3. **新規セグメント** ウィンドウで、セグメントの種類を選択し、**名前** を入力します。

   オプションで、表示名と、セグメントの識別に役立つ説明を提供します。

4. **次へ** を選択して、グループを定義する **セグメント ビルダー** ページに移ります。 グループは顧客のセットです。

5. セグメント出力に含める属性を含むエンティティを選択します。

6. セグメント化する属性を選択します。 この属性は、数値、文字列、日付、ブールの 4 つの値タイプのいずれかを持つことができます。

7. 選択した属性の演算子と値を選択します。

   > [!div class="mx-imgBorder"]
   > ![カスタム グループ フィルタ―](media/customer-group-numbers.png "顧客グループ フィルタ―")

   |番号 |定義  |
   |---------|---------|
   |1     |Entity          |
   |2     |属性          |
   |3    |演算子         |
   |4    |値         |

8. エンティティが [リレーションシップ](relationships.md) を通して統合型顧客エンティティに接続されている場合、有効なセグメントを作成するには、関係パスを定義する必要があります。 ドロップダウンから **顧客 : CustomerInsights** のエンティティが選択できるまで、関係パスからエンティティを追加します。 次に、各条件について **すべての記録** を選択します。

   > [!div class="mx-imgBorder"]
   > ![セグメント作成中の関係パス](media/segments-multiple-relationships.png "セグメント作成中の関係パス")

9. **保存** を選択してセグメントを保存します。 すべての要件が検証されると、セグメントが保存および処理されます。 それ以外の場合は、ドラフトとして保存されます。

10. **セグメントに戻る** を選択して、**セグメント** のページに戻ります。

## <a name="manage-existing-segments"></a>既存のセグメントを管理する

**セグメント** ページでは、保存したすべてのセグメントを表示して管理できます。

各セグメントは、セグメントに関する追加情報を含む行で表されます。

列の見出しを選択すると、列のセグメントを並べ替えることができます。

右上隅にある **検索** ボックスを使用して、セグメントをフィルタ―します。

> [!div class="mx-imgBorder"]
> ![既存のセグメントを管理するオプション](media/segments-selected-segment.png "既存のセグメントを管理するオプション")

セグメントを選択すると、次のアクションを実行できます。

- セグメント メンバーのプレビューなどメンバー数の傾向など、セグメントの詳細を **表示** します。
- プロパティを変更するセグメントを **編集** します。
- 最新のデータを含めるセグメントを **最新の情報に更新します**。
- セグメントを **アクティブ化** または **非アクティブ化** します。 セグメントには、アクティブまたは非アクティブの 2 つの状態があります。 これらの状態は、セグメントを編集するときに役立ちます。 非アクティブなセグメントの場合、セグメント定義は存在しますが、まだ顧客は含まれていません。 セグメントをアクティブ化すると、その状態が '非アクティブ' から 'アクティブ' に変わり、セグメント定義に一致する顧客の検索が開始されます。 [スケジュールされた更新](system.md#schedule-tab) が構成されている場合、非アクティブなセグメントには **状態** が **スキップされた** としてリストされ、更新も試行されなかったことを示しています。 非アクティブなセグメントがアクティブ化されると、これによって最新の情報に更新され、これはスケジュールされた更新に含まれます。
  または、**アクティブ化/非アクティブ化** ドロップダウンで **後でスケジュール** 機能を使用して、特定のセグメントをアクティブ化および非アクティブ化する未来の日時を指定します。
- セグメントの **名前を変更します**。
- メンバーのリストを、CSV ファイル形式で **ダウンロード** します。
- **追加先** オプションは、別のアプリケーションで処理するために、セグメント内の顧客 ID のリストを送信します。
- セグメントを **削除** します。

## <a name="refresh-segments"></a>セグメントを最新の情報に更新する

**セグメント** pページで **すべて更新** を選択すると、すべてのセグメントを一度に更新することができ、1つまたは複数のセグメントを選択してオプションから **更新** を選択すると、該当するセグメントを更新することができます。 または、**管理者** > **システム** > **スケジュール** で定期的な更新を構成できます。

> [!TIP]
> タスク/プロセスには、[6 種類の状態](system.md#status-types) があります。 さらに、ほとんどのプロセスは、[その他の下流プロセスに依存します](system.md#refresh-policies)。 プロセスのステータスを選択して、ジョブ全体の進行状況の詳細を確認できます。 ジョブのタスクの 1 つについて **詳細の表示** を選択すると、処理時間、最終処理日、およびタスクに関連するすべてのエラーと警告などの追加情報が表示されます。

## <a name="download-and-export-segments"></a>セグメントをダウンロードしてエクスポートする

セグメントを CSV ファイルにダウンロードするか、Dynamics 365 Sales にエクスポートできます。

### <a name="download-segments-to-a-csv-file"></a>セグメントを CSV ファイルにダウンロードする

1. 対象者に関するインサイトで、**セグメント** ページに移動します。

2. 特定のセグメントのタイルで省略記号を選択します。

3. アクション ドロップダウン リストから **CSV としてダウンロード** を選択します。

### <a name="export-segments-to-dynamics-365-sales"></a>セグメントを Dynamics 365 Sales にエクスポートします

Dynamics 365 Sales にセグメントをエクスポートする前に、管理者は Dynamics 365 Sales の [エクスポート先を作成する](export-destinations.md) 必要があります。

1. 対象者に関するインサイトで、**セグメント** ページに移動します。

2. 特定のセグメントのタイルで省略記号を選択します。

3. アクションドロップダウンリストから **追加先** を選択して、データを送信するエクスポート先を選択します。

## <a name="draft-mode-for-segments"></a>セグメントのドラフト モード

セグメントを処理するためのすべての要件が満たされていない場合は、**セグメント** ページからセグメントをドラフトとして保存します。

これは無効なセグメントとして保存され、有効になるまでアクティブ化にできません。

## <a name="add-more-conditions-to-a-group"></a>グループに条件を追加する

グループに条件を追加するには、次の 2 つの論理演算子を使用できます。

- **AND** 演算子 : セグメンテーション プロセスの一部として両方の条件が満たされる必要があります。 このオプションは、異なるエンティティにわたって条件を定義するときに最も役立ちます。

- **OR** 演算子 : セグメンテーション プロセスの一部として、いずれかの条件を満たしている必要があります。 このオプションは、同じエンティティにわたって複数の条件を定義するときに最も役立ちます。

   > [!div class="mx-imgBorder"]
   > ![いずれかの条件が満たされる必要がある OR 演算子](media/segmentation-either-condition.png "いずれかの条件が満たされる必要がある OR 演算子")

現在、**AND** 演算子下で **OR** 演算子をネストすることが可能ですが、その逆はできません。

## <a name="combine-multiple-groups"></a>複数のグループを結合する

各グループは、特定の顧客のセットを生成します。 これらのグループを組み合わせて、自分のビジネス ケースに必要な顧客を含めることができます。

1. 対象者に関するインサイトで、**セグメント** ページに移動し、セグメントを選択します。

2. **グループを追加** を選択します。

   > [!div class="mx-imgBorder"]
   > ![顧客グループ追加グループ](media/customer-group-add-group.png "顧客グループ追加グループ")

3. 次の演算子、**連合**、**交差**、または **除外** のいずれかを選択します。

   > [!div class="mx-imgBorder"]
   > ![顧客グループ追加結合](media/customer-group-union.png "顧客グループ追加結合")

   セット演算子を選択すると、新しいグループを定義できます。 異なるグループを保存して、保持されるデータを決定します:

   - **結合** は 2 つのグループを結合します。

   - **交差** は 2 つのグループが重複しています。 両方のグループに *共通である* データのみが、統合グループに保持されます。

   - **例外** は 2 つのグループを結合します。 グループ B のデータと *共通ではない* グループ A のデータのみが保持されます。

## <a name="view-processing-history-and-segment-members"></a>処理履歴とセグメント メンバーの表示

セグメントの詳細を確認すると、セグメントに関する統合データを表示できます。

**セグメント** ページで、レビューするセグメントを選択します。

ページの上部には、メンバー数の変化を視覚化する傾向グラフが含まれています。 データ ポイントにカーソルを合わせると、特定の日付のメンバー数が表示されます。

視覚化の概算時間を更新できます。

> [!div class="mx-imgBorder"]
> ![時間の範囲のセグメント化](media/segment-time-range.png "時間の範囲のセグメント化")

下部には、セグメント メンバーのリストが含まれています。

> [!NOTE]
> このリストに表示されるフィールドは、セグメントのエンティティの属性に基づいています。
>
>このリストは、一致するセグメント メンバーのプレビューであり、セグメントの最初の 100 レコードが表示されるため、必要に応じてセグメントをすばやく評価し、定義をレビューできます。 一致するすべてのレコードを表示するには、[セグメントをエクスポートする](export-destinations.md) 必要があります。

## <a name="quick-segments"></a>簡易セグメント

セグメント ビルダーに加えて、セグメントを作成するための別のパスがあります。 簡易セグメントを使用すると、1 人のオペレーターが簡単なセグメントをすばやく、簡易インスタントと構築できます。

1. **セグメント** ページで、**新着** > **簡易作成フォーム** を選択します。

   - **プロフィール** オプションを選択して、統一された顧客エンティティに基づくセグメントを構築します。
   - **メジャー** オプションを選択して、**メジャー** ページで以前作成したメジャーの各顧客属性の種類周辺にセグメントを構築します。
   - **インテリジェンス** オプションを選択して、**予測** または **カスタム モデル** 機能のいずれかを使用して生成した出力エンティティの 1 つにセグメントを構築します。

2. **新規簡易セグメント** ダイアログ ボックスで、**フィールド** ドロップダウンから属性を選択します。

3. システムは、顧客のより良いセグメントを作成するのに役立つさらなるインサイトを提供します。
   - カテゴリ フィールドに対しては、上位 10 件の顧客数が表示されます。 **値** を選択して、**レビュー** を選択します。

   - 数値属性の場合、システムは各顧客のパーセンタイルに該当する属性値を表示します。 **演算子** と **値** を選択して、次に **レビュー** を選択します。

4. システムは、**推定セグメント サイズ** を提供します。 定義したセグメントを生成するか、最初に再訪して別のセグメント サイズを取得するかを選択できます。

    > [!div class="mx-imgBorder"]
    > ![クイック セグメントの名前と見積もり](media/quick-segment-name.png "クイック セグメントの名前と見積もり")

5. セグメントに対して **名前** を入力します。 オプションで、**表示名** も入力します。

6. **保存** を選択して、セグメントを作成します。

7. セグメントの処理が完了すると、作成した他のセグメントと同様に表示できます。

次のシナリオでは、推奨されるセグメント機能ではなく、セグメント ビルダーを使用することをお勧めします。

- 演算子が **Is** 演算子とは異なるカテゴリ フィールドでフィルターを使用してセグメントを作成する
- 演算子が **Between**、**Greater than**、そして **Less than** 演算子とは異なる数値フィールドにフィルターを使用してセグメントを作成する
- 日付の種類のフィールドにフィルターを使用してセグメントを作成する

## <a name="next-steps"></a>次のステップ

[セグメントをエクスポート](export-destinations.md) して、[顧客カード](customer-card-add-in.md)  と [コネクター](export-power-bi.md) の詳細を確認して、顧客レベルでのインサイトを獲得します。

---
title: データ統合でエンティティをマージする
description: エンティティをマージして、統合顧客プロファイルを作成します。
ms.date: 05/10/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 6e64154dc58f679d13033fa55a60cd0c306f62f31548b8ce98ea1ed5f423b3e9
ms.sourcegitcommit: aa0cfbf6240a9f560e3131bdec63e051a8786dd4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/10/2021
ms.locfileid: "7035008"
---
# <a name="merge-entities"></a>エンティティの結合

マージ フェーズはデータ統合プロセスの最後のフェーズです。 その目的は、競合するデータを調整することです。 競合するデータの例としては、2 つのデータ セットで見つかったがそれぞれに少しずつ異なって表示される顧客名 ("Grant Marshall" と "Grant Marshal") や、形式が異なる電話番号 (617-803-091X と 617803091X) などがあります。 これらの競合するデータ ポイントのマージは、属性ごとに行われます。

:::image type="content" source="media/merge-fields-page.png" alt-text="統合された顧客プロファイルを定義するマージされたフィールドを持つテーブルを表示するデータ統合プロセスのマージ ページ。":::

[一致フェーズ](match-entities.md) が完了したら、**統合** ページで **マージ** タイルを選択して、マージ フェーズを開始できます。

## <a name="review-system-recommendations"></a>システム レコメンデーションのレビュー

**データ** > **統合** > **マージ** で、統合された顧客プロファイル エンティティ内でマージする属性を選択して除外します。 統合された顧客プロファイルは、データ統合プロセスの結果です。 一部の属性は、システムによって自動的にマージされます。

自動的にマージされた属性の 1 つに含まれる属性を表示するには、そのマージされた属性をテーブルの **顧客フィールド** タブで選択します。 マージされた属性を構成する属性は、マージされた属性の下の 2 つの新しい行に表示されます。

## <a name="separate-rename-exclude-and-edit-merged-fields"></a>マージされたフィールドの分離、名前変更、除外、および編集

システムがマージされた属性を処理する方法を変更して、統合された顧客プロファイルを生成できます。 **詳細表示** を選択して、変更する項目を選択します。

:::image type="content" source="media/manage-merged-attributes.png" alt-text="マージされた属性を管理するための詳細表示ドロップダウン メニューのオプション。":::

詳細については、次のセクションを参照してください。

## <a name="separate-merged-fields"></a>マージされたフィールドの分離

マージされたフィールドを分離するには、テーブルで属性を見つけます。 分離されたフィールドは、統合された顧客プロファイルの個別のデータ ポイントとして表示されます。 

1. マージされたフィールドを選択します。
  
1. **詳細表示** を選択し、**フィールドの分離** を選択します。
 
1. 分離を確認します。

1. **保存** と **実行** を選択し、変更を処理します。

## <a name="rename-merged-fields"></a>マージされたフィールドの名前を変更

マージされた属性の表示名を変更します。 出力エンティティの名前は変更できません。

1. マージされたフィールドを選択します。
  
1. **詳細表示** を選択し、**名前の変更** を選択します。

1. 変更した表示名を確認します。 

1. **保存** と **実行** を選択し、変更を処理します。

## <a name="exclude-merged-fields"></a>マージされたフィールドの除外

統合された顧客プロファイルから属性を除外します。 フィールドがセグメントなどの他のプロセスで使用されている場合は、顧客プロファイルから除外する前に、これらのプロセスから削除します。 

1. マージされたフィールドを選択します。
  
1. **詳細表示** を選択し、**除外** を選択します。

1. 除外を確認します。

1. **保存** と **実行** を選択し、変更を処理します。 

**マージ** ページで **除外されたフィールド** を選択して、除外したすべてのフィールドのリストを表示します。 このペインでは、除外されたフィールドを再び追加できます。

## <a name="manually-combine-fields"></a>フィールドを手動で結合

マージされた属性を手動で指定します。 

1. **マージ** ページで **フィールドの結合** を選択します。

1. **名前** と **出力フィールド名** を指定します。

1. フィールドを選択して追加します。 **フィールドの追加** を選択して、さらにフィールドを結合します。

1. 除外を確認します。

1. **保存** と **実行** を選択し、変更を処理します。 

## <a name="change-the-order-of-fields"></a>フィールドの順序の変更

一部のエンティティには、他のエンティティよりも多くの詳細が含まれています。 エンティティにフィールドに関する最新データが含まれている場合、値をマージするときに他のエンティティより優先することができます。

1. マージされたフィールドを選択します。
  
1. **詳細表示** を選択し、**編集** を選択します。

1. **フィールドの結合** ペインで、**上/下へ移動** を選択し順序を設定するか、目的の位置にドラッグ アンド ドロップします。

1. 変更を確認します。

1. **保存** と **実行** を選択し、変更を処理します。

## <a name="run-your-merge"></a>マージを実行する

手動で属性をマージする場合でも、システムに属性をマージさせる場合でも、いつでもマージを実行できます。 **マージ** ページで **実行** を選択して、このプロセスを開始します。

> [!div class="mx-imgBorder"]
> ![データ マージの保存と実行。](media/configure-data-merge-save-run.png "データ マージの保存と実行")

**マージのみ実行** は、統合された顧客エンティティに反映された出力のみを表示する場合に選択します。 ダウンストリーム プロセスは [更新スケジュールで定義](system.md#schedule-tab) されたように更新されます。

**マージおよびダウンストリーム プロセスの実行** を選択して、変更内容でシステムを更新します。 エンリッチメント、セグメント、メジャーを含むすべてのプロセスが自動的に再実行されます。 すべてのダウンストリーム プロセスが完了すると、顧客プロファイルに変更が反映されます。

さらに変更を加えてステップを再実行するには、進行中のマージをキャンセルします。 **更新中 ...** テキストを選択して、表示された横ウィンドウの下にある **ジョブをキャンセル** を選択します。

> [!TIP]
> マージ プロセスを実行した後、プロセスの状態を選択して **タスクの詳細** ペインを開きます。 処理時間、最終処理日、およびタスクに関連するすべてのエラーと警告に関する概要が表示されます。 **詳細の表示** を選択し、どのエンティティが一致プロセスに参加したか、不一致が解決したか、および更新が正常に公開されたかどうかを確認します。  
> タスク/プロセスには、[6 種類の状態](system.md#status-types) があります。 さらに、ほとんどのプロセスは、[その他の下流プロセスに依存します](system.md#refresh-policies)。  
> :::image type="content" source="media/process-detail-path.png" alt-text="タスクステータスリンクからプロセスの詳細にアクセスするためのドリルダウンパス。":::

## <a name="next-step"></a>次のステップ

[活動](activities.md)、[エンリッチメント](enrichment-hub.md)、または [関連付け](relationships.md) を設定して、顧客に関するより多くのインサイトを取得します。

アクティビティ、エンリッチメント、またはセグメントをすでに構成している場合、最新の顧客データを使用するように自動的に処理されます。

[!INCLUDE[footer-include](../includes/footer-banner.md)]

---
title: エンティティとエンティティ パスの関連付け
description: 複数のデータ ソースからエンティティ間の関連付けを作成および管理します。
ms.date: 04/14/2020
ms.reviewer: mukeshpo
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: 295c372bb452e7c40aa950506dc494d4a2de1108
ms.sourcegitcommit: cf9b78559ca189d4c2086a66c879098d56c0377a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2020
ms.locfileid: "4406195"
---
# <a name="relationships-between-entities"></a>エンティティ間の関連付け

リレーションシップは、エンティティを接続して、あるエンティティから別のエンティティに参照できる共通の識別子 (外部キー) をエンティティが共有する場合に、データのグラフを生成するのに役立ちます。 接続されたエンティティにより、複数のデータ ソースに基づいてセグメントとメジャーが定義できるようになります。

リレーションシップには 2 種類あります。 自動的に作成される編集不可のシステムリレーションシップ、およびユーザーが作成および構成するカスタム リレーションシップです。

一致プロセスおよびマージ プロセス中に、裏でシステム リレーションシップがインテリジェント マッチングに基づいて作成されます。 これらのリレーションシップは、顧客プロファイル レコードを他の対応するエンティティのレコードと関連付けるのに役立ちます。 次の図は、顧客エンティティが追加のエンティティと一致され最終的な顧客プロファイル エンティティを生成する場合に、3 つのシステム リレーションシップの作成を示しています。

> [!div class="mx-imgBorder"]
> ![リレーションシップ の作成](media/relationships-entities-merge.png "リレーションシップ の作成")

- ***CustomerToContact* リレーションシップ** は、顧客エンティティと取引先担当者エンティティとの間に作成されました。 顧客エンティティはキー フィールド **Contact_contactId** を、取引先担当者エンティティのキー フィールド **contactId** と関連付けます。
- **_CustomerToAccount_ リレーションシップ** が、顧客エンティティと取引先企業エンティティとの間に作成されました。 顧客エンティティは、キー フィールド **Account_accountId** を、取引先企業エンティティのキー フィールド **accountId** と関連付けます。
- **_CustomerToWebAccount_ リレーションシップ** が、顧客エンティティと WebAccount エンティティとの間に作成されました。 顧客エンティティは、キー フィールド **WebAccount_webaccountId** を、WebAccount エンティティのキー フィールド **webaccountId** と関連付けます。

## <a name="create-a-relationship"></a>関連付けの作成

**リレーションシップ** ページでカスタム リレーションシップを定義します。 それぞれの関連付けは、ソース エンティティ (外部キーを保持するエンティティ) とターゲット エンティティ (ソース エンティティの外部キーが指すエンティティ) で構成されます。

1. 対象者に関するインサイトで、**データ** > **関連付け** に移動します。

2. **新規リレーションシップ** を選択します。

3. **新規リレーションシップ** ウィンドウで以下の情報を入力します :

   > [!div class="mx-imgBorder"]
   > ![レコメンデーションの詳細を入力します](media/relationships-add.png "レコメンデーション詳細の入力")

   - **関係名**: 関係の目的を反映した名前（たとえば、**AccountWebLogs**）。
   - **説明**: リレーションシップの説明。
   - **ソース エンティティ** : リレーションシップのソースとして使用されるエンティティ (WebLog など) を選択します。
   - **基数** : ソース エンティティ レコードの基数を選択します。 たとえば、"多く" とは、複数の Weblog レコードが 1 つの WebAccount に関連付けられていることを意味します。
   - **ソース キー フィールド** : これは、ソース エンティティの外部キー フィールドを表します。 たとえば、WebLog には **accountId** 外部キー フィールドがあります。
   - **ターゲット エンティティ** : リレーションシップのターゲットとして使用されるエンティティ (WebLog など) を選択します。
   - **ターゲット基数** : ターゲット エンティティ レコードの基数を選択します。 たとえば、"1" とは、複数の Weblog レコードが 1 つの WebAccount に関連付けられていることを意味します。
   - **ターゲット キー フィールド** : このフィールドは、ターゲット エンティティのキー フィールドを表します。 たとえば、WebAccount には **accountId** キー フィールドがあります。

> [!NOTE]
> 多対一および一対一のリレーションシップのみがサポートされています。 多対多のリレーションシップは、2 つの多対一のリレーションシップとリンク エンティティ (ソースエンティティとターゲットエンティティを接続するために使用されるエンティティ) を使用して作成できます。

## <a name="delete-a-relationship"></a>リレーションシップの削除

1. 対象者に関するインサイトで、**データ** > **関連付け** に移動します。

2. 削除するリレーションシップのチェック ボックスをオンにします。

3. **リレーションシップ** テーブルの上部にある **削除** を選択します。

4. 削除を確認します。

## <a name="next-step"></a>次の手順

システムとカスタム リレーションシップは、サイロ化されなくなった複数のデータ ソースに基づいてセグメントを作成するために使用されます。 詳細については、[セグメント](segments.md) を参照してください。

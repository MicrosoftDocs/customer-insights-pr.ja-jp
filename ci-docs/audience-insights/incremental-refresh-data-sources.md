---
title: PowerQuery ベースのデータ ソースの増分更新
description: Power Query に基づいて、大規模なデータ ソースの新規および更新されたデータを更新します。
ms.date: 09/28/2020
ms.reviewer: adkuppa
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: b7e834f5f2fd1328563139675d7f850008348734
ms.sourcegitcommit: cf9b78559ca189d4c2086a66c879098d56c0377a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2020
ms.locfileid: "4406184"
---
# <a name="incremental-refresh-for-data-sources-based-on-power-query"></a>Power Query ベースのデータ ソースの増分更新

データ ソースの増分更新には、次の利点があります:

- **更新速度の増強** - 変更のあったデータのみが更新されます。 例えば、履歴データセットの過去 5 日間だけを更新することができます。
- **安定性の増加** - 更新の規模を縮小化することで、揮発性のソース システムへの接続を長期間維持する必要がなくなり、接続の問題が発生するリスクが軽減されます。
- **リソース消費の軽減** - データ全体の一部のみを更新することで、コンピューター上のリソース使用効率が向上し、環境への負荷が軽減します。

## <a name="configure-incremental-refresh"></a>増分更新を構成する

対象者に関するインサイトでは、増分取り込みをサポートする Power Query でインポートしたデータ ソースの増分更新が可能です。 たとえば、データ レコードが最後に更新された日付と時刻のフィールドを持つ Azure SQL データベースなどです。

1. [Power Query に基づいて新しいデータ ソースを作成します](connect-power-query.md)。

1. データ ソースの名称を入力してください。

1. Azure SQL データベースなどの、増分更新に対応するデータ ソースを選択します。

1. 取り込むエンティティまたはテーブルを選択します。

1. この変換の手順を完了し、**保存** を選択します。

1. **増分更新を設定する** ダイアログ ボックスで、**設定** を選択して、**増分更新の設定** を開きます。 **スキップ** を選択すると、データソースがデータセット全体を更新します。
   > [!TIP]
   > 既存のデータ ソースを編集することで、増分更新を後から適用することも可能です。

1. **増分更新の設定** にて、データ ソースの作成時に選択したすべてのエンティティーの増分更新を構成します。

   > [!div class="mx-imgBorder"]
   > ![データソースのエンティティの増分更新を設定する](media/incremental-refresh-settings.png "データソースのエンティティの増分更新を設定する")

1. エンティティを選択し、次の詳細を指定します：

   - **主キーの設定**：エンティティまたはテーブルの主キーを選択します。
   - **最終更新フィールドの設定**：このフィールドには、日付または時刻タイプの属性のみが表示されます。 レコードが最後に更新された日時を示す属性を選択します。 これは、増分更新概算時間枠内にあるレコードを識別するために使用されます。
   - **すべての更新を確認する**：増分更新の時間枠の長さを指定します。

1. **保存** を選択して、データ ソースの作成を完了します。 最初のデータ更新は全体の更新になります。 その後の更新からは、上記手順で設定したように増分の更新が行われます。

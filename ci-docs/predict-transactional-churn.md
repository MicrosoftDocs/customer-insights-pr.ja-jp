---
title: トランザクション チャーンの予測 (ビデオを含む)
description: 顧客が製品やサービスを購入しなくなるリスクがあるかどうかを予測します。
ms.date: 09/30/2022
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: zacookmsft
ms.author: zacook
manager: shellyha
ms.openlocfilehash: fd8df0f0a168ddfab9e8ad3af9e1f1fc0bc1b7a2
ms.sourcegitcommit: be341cb69329e507f527409ac4636c18742777d2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/30/2022
ms.locfileid: "9610518"
---
# <a name="predict-transaction-churn"></a>トランザクション離反を予測する

トランザクション解約予測は、顧客が特定の時間枠内に製品またはサービスを購入しなくなるかどうかを予測するのに役立ちます。

離反がビジネスにとってどのような意味を持つのかを理解するには、ビジネス知識が必要です。 時間ベースの解約定義をサポートします。つまり、顧客は購入がない期間の後に解約したと見なされます。

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RWN6Eg]

ビジネス アカウントに基づく環境では、取引先企業のトランザクション離反、および取引先企業と製品カテゴリなどの別のレベルの情報の組み合わせを予測できます。 たとえば、ディメンションを追加すると、取引先企業 "Contoso" が製品カテゴリ "オフィス文房具" の購入を停止する可能性を判断するのに役立ちます。 さらに、ビジネス アカウントの場合、AI を使用して、取引先企業がセカンダリレベルの情報のカテゴリで離反する可能性が高い潜在的な理由のリストを生成することもできます。

> [!TIP]
> サンプル データを使用して、トランザクション離反予測を試してください: [トランザクション離反予測サンプル ガイド](sample-guide-predict-transactional-churn.md)。

## <a name="prerequisites"></a>前提条件

- 少なくとも [共同作成者のアクセス許可](permissions.md)。
- 少なくとも 10 人の顧客プロファイル、1,000 人を超える一意の顧客が望ましい。
- 顧客識別子、トランザクションを顧客と照合する一意識別子。
- 2 年から 3 年分のトランザクション履歴など、選択した時間枠の少なくとも 2 倍のトランザクション データ。 理想的には、顧客ごとに少なくとも 2 つのトランザクション。 取引履歴には以下が含まれている必要があります:
  - **トランザクション ID**: 購入またはトランザクションの一意識別子。
  - **トランザクションの日付**: 購入またはトランザクションの日付。
  - **トランザクションの値** :トランザクションの通貨/数値。
  - **一意の製品 ID**: データが品目レベルの場合は、購入した製品またはサービスの ID。
  - **このトランザクションが返品かどうか**: トランザクションが返品かどうかを識別する true/false フィールド。 **トランザクションの値** がマイナスの場合、こ返品を推測します。
- 顧客活動データ:
  - 顧客識別子、活動を顧客にマップする一意識別子。
  - **主キー:** アクティビティの一意識別子。 たとえば、Web サイトへのアクセスや、顧客が製品のサンプルを試したことを示す使用記録などです。
  - **タイムスタンプ:** 主キーで識別されるイベントの日時。
  - **イベント:** 使用するイベントの名前。 たとえば、食料品店の "UserAction" というフィールドは、顧客が使用するクーポンである可能性があります。
  - **詳細 :** イベントの詳細情報。 たとえば、食料品店の "CouponValue" というフィールドは、クーポンの通貨値である可能性があります。
- 指定されたエンティティのデータ フィールドの不足値が 20% 未満

ビジネス アカウント (B-to-B) の場合は、より静的な属性に合わせて顧客データを追加して、モデルが最適に機能するようにします:
- **CustomerID:** 顧客の一意識別子。
- **作成日:** 顧客が最初に追加された日付。
- **都道府県:** 顧客の都道府県の所在地。
- **国:** 顧客の国。
- **業界:** 顧客の業種。 たとえば、コーヒー焙煎業者の場合の「業界」というフィールドでは、顧客が小売店であるかどうかを示している場合があります。
- **分類:** ビジネスのための顧客の分類。 たとえば、コーヒー焙煎業者の「ValueSegment」というフィールドは、顧客のサイズに基づく顧客の層である可能性があります。

> [!NOTE]
> 顧客の購入頻度が高いビジネス (数週間ごと) の場合は、より短い予測ウィンドウと離反定義を選択することをお勧めします。 購入頻度が低い (数か月ごとまたは年に 1 回) 場合は、より長い予測ウィンドウと離反定義を選択します。

## <a name="create-a-transaction-churn-prediction"></a>トランザクション離反の予測を作成する

1. **インテリジェンス** > **予測** に移動します。

1. **作成** タブで **顧客離反モデル** タイルの **モデルを使用** を選択します。

1. 離反のタイプに **トランザクション** を選択し、**開始する** を選択します。

1. 他のモデルまたはエンティティと区別するための **このモデルに名前を付ける** と **出力エンティティ名**。

1. **次へ** を選択します。

### <a name="define-customer-churn"></a>顧客離反の定義

いつでも **下書きを保存** を選択して、予測をドラフトとして保存します。 ドラフト予測は **自分の予測** タブに表示されます。

1. **予測ウィンドウ** を設定する。 たとえば、今後 90 日間の顧客の解約リスクを予測して、マーケティング保持の取り組みに合わせます。 解約リスクを長い期間または短い期間で予測すると、解約リスク プロファイルの要因に対処することがより困難になる可能性がありますが、それは特定のビジネス要件によって異なります。

1. チャーンを定義する日数を **チャーンの定義** フィールドに入力します。 たとえば、顧客が過去 30 日間に購入していない場合、ビジネスに対して解約されたと見なされる可能性があります。

1. **次へ** を選択します。

### <a name="add-purchase-history"></a>購入履歴の追加

1. **顧客トランザクション履歴** の **データの追加** を選択します。

1. トランザクション履歴情報を含む、セマンティック活動タイプ (**SalesOrder** または **SalesOrderLine**) を選択します。 活動が設定されていない場合は、**こちら** を選択して作成します。

1. **活動** で、活動の作成時に活動属性がセマンティックにマップされた場合は、計算の対象となる特定の属性またはエンティティを選択します。 セマンティック マッピングが行われなかった場合は、**編集** を選択して、データをマップします。

   :::image type="content" source="media/transaction-churn-select-activity.PNG" alt-text="セマンティック タイプの配下で特定の活動を選択した状態のを示すサイド ペイン。":::

1. **次へ** を選択し、このモデルに必要な属性を確認します。

1. **保存** を選択します。

1. さらに活動を追加するか、**次へ** を選択します。

# <a name="individual-consumers-b-to-c"></a>[個人消費者 (B2C)](#tab/b2c)

### <a name="add-additional-data-optional"></a>データの追加 (オプション)

1. **顧客活動** の **データの追加** を選択します。

1. 使用するデータを含むセマンティック活動タイプを選択します。 活動が設定されていない場合は、**こちら** を選択して作成します。

1. **活動** で、活動の作成時に活動属性がセマンティックにマップされた場合は、計算の対象となる特定の属性またはエンティティを選択します。 セマンティック マッピングが行われなかった場合は、**編集** を選択して、データをマップします。

1. **次へ** を選択し、このモデルに必要な属性を確認します。

1. **保存** を選択します。

1. **次へ** を選択します。

# <a name="business-accounts-b-to-b"></a>[事業取引先企業 (B2B)](#tab/b2b)

### <a name="select-prediction-level"></a>予測レベルを選択する

ほとんどの予測は顧客レベルで作成されます。 状況によっては、粒度がビジネス ニーズに対応するのに十分ではない場合があります。 この機能を使用して、たとえば、顧客全体ではなく、顧客の支店の離反を予測します。

1. **セカンダリ レベルのエンティティを選択する** を選択します。 オプションが利用できない場合は、前のセクションを完了していることを確認してください。

1. セカンダリ レベルを選択するエンティティを展開するか、検索フィルタ ボックスを使用して選択したオプションをフィルタリングします。

1. セカンダリ レベルとして使用する属性を選択して、**追加** を選択します。

1. **次へ** を選択します。

> [!NOTE]
> このセクションで使用可能なエンティティが表示されるのは、前のセクションで選択したエンティティとリレーションシップがあるためです。 追加するエンティティが表示されない場合は、**リレーションシップ** に有効な関係が存在することを確認してください。 この構成に対しては、一対一および多対一のリレーションシップのみが有効です。

### <a name="add-additional-data-optional"></a>データの追加 (オプション)

1. **顧客活動** の **データの追加** を選択します。

1. 使用するデータを含むセマンティック活動タイプを選択します。 活動が設定されていない場合は、**こちら** を選択して作成します。

1. **活動** で、活動の作成時に活動属性がセマンティックにマップされた場合は、計算の対象となる特定の属性またはエンティティを選択します。 セマンティック マッピングが行われなかった場合は、**編集** を選択して、データをマップします。

1. **次へ** を選択し、このモデルに必要な属性を確認します。

1. **保存** を選択します。

1. **次へ** を選択します。

1. オプションで、**顧客データ** に対して **データを追加する** を選択します。

1. 識別されたとおりに、セマンティック属性を独自の顧客データのフィールドにマップします。 モデルの最高のパフォーマンスを実現するために、使用されるフィールドのデータは頻繁に変更しないでください。 たとえば、毎月変更される「分類」のフィールドを選択すると、予測パターンを構築するときに過去に同じ値が顧客に該当しない場合でも、予測で使用される最後の値のみが使用されます。

1. **次へ** を選択します。

### <a name="provide-an-optional-list-of-benchmark-accounts"></a>ベンチマーク アカウントのオプションのリストを提供します

ベンチマークとして使用するビジネス顧客とアカウントのリストを追加します。 [これらのベンチマーク アカウントの詳細](#view-prediction-results) には、離反スコアと、離反予測に影響を与えた最も影響力の大きい機能が含まれています。

1. **+ 顧客の追加** を選択します。

1. ベンチマークとして機能する顧客を選択します。

1. **次へ** を選択します。

---

### <a name="set-update-schedule"></a>スケジュールの更新を設定する

1. **データ更新** ステップで、モデルを再トレーニングする頻度を選択します。 この設定は、新たなデータが Customer Insights に取り込まれる際に予測の精度を更新するために重要です。 多くの企業は、月に1度再トレーニングして、予測の精度を高めることができます。

1. **次へ** を選択します。

### <a name="review-and-run-the-model-configuration"></a>モデル構成を確認して実行します

**確認して実行** ステップでは、構成の概要が表示され、予測を作成する前に変更を加えることができます。

1. 確認して変更を加えるには、手順のいずれかで **編集** を選択します。

1. 選択内容に問題がなければ、**保存して実行** を選択して、モデルの実行を開始します。 **完了** を選択します。 **自分の予測** タブは、予測の作成中に表示されます。 予測で使用されるデータの量によっては、プロセスの完了までに数時間かかる場合があります。

[!INCLUDE [progress-details](includes/progress-details-pane.md)]

## <a name="view-prediction-results"></a>予測の結果を表示する

1. **インテリジェンス** > **予測** に移動します。

1. **自分の予測** タブで表示する予測を選択します。

# <a name="individual-consumers-b-to-c"></a>[個人消費者 (B2C)](#tab/b2c)

結果ページには、3つの主要なデータ セクションがあります。

[!INCLUDE [predict-transaction-results](includes/predict-transaction-results.md)]

# <a name="business-accounts-b-to-b"></a>[事業取引先企業 (B2B)](#tab/b2b)

結果ページには、3つの主要なデータ セクションがあります。

[!INCLUDE [predict-transaction-results](includes/predict-transaction-results.md)]

**影響力の大きい機能の分析** 情報ページには、データの 4 つのセクションが含まれます:

- 右側のペインで **上位の顧客** または **ベンチマーク顧客** から項目を選択します。 両方のリストは、離反スコアの値が降順で並べられています。スコアが顧客のみの場合でも、顧客の合計スコアであるか、製品カテゴリのようなセカンダリ レベルであるかは関係ありません。 選択した項目によって、このページのコンテンツが決まります。

  - **上位の顧客** :離反スコアに基づいた、離反のリスクが最も高い/低い 10 件の顧客のリスト。
  - **ベンチマーク顧客** :モデルの構成中に選択された最大 10 件の顧客のリスト。

- **離反スコア:** 選択した項目の離反スコアを右側のペインに表示します。

- **離反リスクの分布:** 顧客間の離反リスクの分布と、選択した顧客のパーセンタイルを表示します。

- **離反リスクを増減させる主な機能:** 右側のペインで選択した項目の離反リスクを増減させた上位 5 つの機能が一覧表示されます。 影響力のあるすべての機能について、その項目の機能の価値と離反スコアへの影響を表示します。 離反率が低、中、高の顧客セグメント全体の各機能の平均値も表示されます。 これは、選択したアイテムの最も影響力のある機能の値をより適切にコンテキスト化し、それを離反率が低、中、高の顧客セグメントと比較するのに役立ちます。

  - 低: 離反スコアが 0 から 0.33 の取引先企業または取引先企業とセカンダリ レベルの組み合わせ。
  - 中: 離反スコアが 0.33 から 0.66 の取引先企業または取引先企業とセカンダリ レベルの組み合わせ。
  - 高: 離反スコアが 0.66 を上回る取引先企業または取引先企業とセカンダリ レベルの組み合わせ。

  取引先企業レベルで離反を予測する場合、離反セグメントの平均特徴値を導出する際に、すべての取引先企業が考慮されます。 すべての取引先企業のセカンダリ レベルでの離反予測の場合、離反セグメントの導出は、サイド ペインで選択された項目のセカンダリ レベルによって異なります。 たとえば、項目に製品カテゴリ (事務用品) のセカンダリ レベルがある場合、離反セグメントの平均特徴値を導き出すときに、製品カテゴリとして事務用品を持つ項目のみが考慮されます。 このロジックは、アイテムの機能値と、低、中、高の離反セグメント全体の平均値との公正な比較を保証するために適用されます。

  上記の定義に基づいて、対応する離反セグメントに属する項目がないため、低、中、または高の離反セグメントの平均値が空であるか、使用できない場合があります。

  平均の低、中、高の列下の値の解釈は、国や業界などのカテゴリの特徴によって異なります。 「平均」機能値の概念はカテゴリ機能には適用されないため、これらの列の値は、サイドパネルで選択されたアイテムと比較してカテゴリ機能の値が同じである低、中、または高のチャーン セグメントの顧客の割合です。

---

 > [!NOTE]
 > このモデルの出力エンティティでは、*ChurnScore* は離反の予測確率を示し、*IsChurn* は *ChurnScore* に基づく 0.5 のしきい値を持つバイナリ ラベルです。 この既定のしきい値がシナリオで機能しない場合は、任意のしきい値で [新しいセグメントを作成](segments.md#create-a-segment) します。 すべての顧客が必ずしもアクティブな顧客であるとは限りません。 中には、長い間活動をしておらず、離反定義に基づいて、すでに離反していると考えられる顧客もいます。 すでに離反している顧客の離反リスクを予測することは、関心対象ユーザーではないため有用ではありません。
>
> 離反スコアを表示するには、**データ** > **エンティティ** に移動し、このモデルに定義した出力エンティティのデータ タブを表示します。

[!INCLUDE [footer-include](includes/footer-banner.md)]
